<ng-container *ngIf="!isLoading; else loading">
  <div class="breadcrumbs">
    <a mat-button routerLink="/products" color="accent">Products</a>
    <ng-container *ngFor="let breadcrumb of breadcrumbs">
      <mat-icon>chevron_right</mat-icon>
      <a
        mat-button
        routerLink="/products"
        [queryParams]="{ category: breadcrumb.id }"
        color="accent"
        >{{ breadcrumb.name }}</a
      >
    </ng-container>
  </div>
  <div class="product-info">
    <img [src]="product!.image" />
    <div class="main-info">
      <h1>{{ product!.name }}</h1>
      <span class="price">{{ product!.price | currency }}</span>
      <span class="quantity">{{
        product!.quantity < 1 ? "Out of stock" : product!.quantity + " available"
      }}</span>
      <button mat-raised-button color="primary" (click)="buy()">BUY</button>
    </div>
  </div>
  <p>{{product!.description}}</p>
</ng-container>
<ng-template #loading>
  <mat-spinner></mat-spinner>
</ng-template>
